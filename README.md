# **SAXPY Performance Comparison: C vs x86-64 NASM)**

**Kaissehr Tyrrelle Mendoza**

**Chrystel Anne Marcelo**

**S18A**

---
This project implements and benchmarks SAXPY operations in both **C** and **x86-64 Assembly** with the goal of measuring the performance difference between a baseline C implementation (`saxpy_c`) and an optimized x86-64 Assembly implementation (`saxpy_asm`).

**Formula:** $Z[i]= A \cdot X[i] + Y[i]$

Where:
- `A` is a scalar single-precision float
- `X`, `Y`, `Z` are single-precision float vectors
- `n` is the vector length (integer)
    
Each test runs **30 iterations** with a constant **scalar A = 2.0**, computing the average execution time.

    
# **Performance Results**
### Test Configuration
- **Scalar Value (A):** 2.0
- **Iterations per test:** 30 runs (averaged)
- **Vector Sizes Tested:** 2^20, 2^24, 2^28 elements
- **Data Initialization:** Random values

| **Array Size (n)** | **Array Length (n)** | **Approx. Memory (GiB)** | **C Average Time (s)** | **ASM Average Time (s)** | **Speedup (C/Assembly)** |
| ------------------ | -------------------- | ------------------------ | ---------------------- | ------------------------ | ------------------------ |
| $2^{20}$           | 1,048,576            | 0.012                    | 0.001534               | 0.000485                 | **3.16x**                |
| $2^{24}$           | 16,777,216           | 0.188                    | 0.028789               | 0.011207                 | **2.57x**                |
| $2^{28}$           | 268,435,456          | 3.000                    | 0.459396               | 0.176186                 | **2.61x**                |

---

# **Performance Analysis**
The results clearly demonstrate that the **Assembly implementation significantly outperforms the standard C implementation** across all tested array sizes, achieving a speedup ranging from **2.57x to 3.16x**.
#### 1. Speedup Operations
The Assembly implementation is measurably faster in every test case.
- The **highest C to Assembly speedup** of **3.16x** was recorded for the smallest array size, $n=2^{20}$.
- The speedup for the two larger array sizes, $n=2^{24}$ and $n=2^{28}$, was slightly lower but remained strong at **2.57x** and **2.61x**, respectively.
#### 2. Execution Time Scaling
As the array size increases, the execution time for both kernels scales up, but the ASM version remains proportionally faster:

- **From $n=2^{20}$ to $n=2^{24}$:**
    - C time increased from 0.001534 s to 0.028789 s 
    - ASM time increased from 0.000485 s to 0.011207 s
    - The speedup decreased from 3.16x to 2.57x.
        
- **From $n=2^{24}$ to $n=2^{28}$:**
    - C time increased from 0.028789 s to 0.459396 s 
    - ASM time increased from 0.011207 s to 0.176186 s
    - The speedup remained relatively stable, increasing slightly from 2.57x to 2.61x.

#### 3. Correctness
For all test cases, the result confirms that the answers generated by the C code and the Assembly code are identical, indicating that the performance optimization in the Assembly kernel was achieved without introducing numerical errors.

- Example check for $n=2^{20}$: Both versions produced $Z[0] = 11.80$.
- Example check for $n=2^{28}$: Both versions produced $Z[0] = 16.90$.

---

# **Conclusion**

The x86-64 Assembly version of SAXPY clearly runs faster than the C version across all tested array sizes. The improvement ranges from about 2.6× to 3.16×, which highlights how much benefit low-level optimizations can bring to simple vector operations. Even though SAXPY is a small kernel, using SIMD-style instructions at the assembly level gives a consistent performance boost.

---

# **Screenshots**

<img width="655" height="548" alt="test1" src="https://github.com/user-attachments/assets/04bea459-aca7-48f3-b71b-6f69362c7e31" />
<img width="640" height="410" alt="test2" src="https://github.com/user-attachments/assets/1583dcc3-b47c-4a2d-88ac-ac3be08594ad" />
<img width="681" height="451" alt="test3" src="https://github.com/user-attachments/assets/13553fd3-70de-4a90-b3f2-042fa2c70d71" />


# **Link to Demo Video**
https://youtu.be/2b_2SnSwcZA
